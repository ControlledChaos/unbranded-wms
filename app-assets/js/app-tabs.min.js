(function($,window,undefined){"use strict";$.fn.app_tabs=function(options){var defaults={tab_mouseevent:"click",tab_activeclass:"active",tab_attribute:"href",tab_animation:!1,tab_anispeed:400,tab_autorotate:!1,tab_deeplinking:!1,tab_pauseonhover:!0,tab_delay:2e3,tab_active:1,tab_container:!1,tab_controls:{tab_prev:".prev-tab",tab_next:".next-tab"}},options=$.extend(defaults,options);return this.each(function(){var $this=$(this),_cache_li=[],_cache_div=[];if(options.tab_container)var _tab_container=$(options.tab_container);else var _tab_container=$this;var _app_tabs=_tab_container.find("> div");_app_tabs.each(function(){_cache_div.push($(this).css("display"))});var elements=$this.find("> ul > li"),i=options.tab_active-1;if(!$this.data("app_tabs-init")){$this.data("app_tabs-init",!0),$this.opts=[],$.map(["tab_mouseevent","tab_activeclass","tab_attribute","tab_animation","tab_anispeed","tab_autorotate","tab_deeplinking","tab_pauseonhover","tab_delay","tab_container"],function(t,a){$this.opts[t]=$this.data(t)||options[t]}),$this.opts.tab_active=$this.opts.tab_deeplinking?deep_link():$this.data("tab_active")||options.tab_active,_app_tabs.hide(),$this.opts.tab_active&&(_app_tabs.eq($this.opts.tab_active-1).show(),elements.eq($this.opts.tab_active-1).addClass(options.tab_activeclass));var fn=eval(function(t,a){if(a)var e=elements.find("a["+$this.opts.tab_attribute+'="'+a+'"]').parent();else e=$(this);e.trigger("_before"),elements.removeClass(options.tab_activeclass),e.addClass(options.tab_activeclass),_app_tabs.hide(),i=elements.index(e);var s=a||e.find("a").attr($this.opts.tab_attribute);return $this.opts.tab_deeplinking&&(location.hash=s),$this.opts.tab_animation?(_tab_container.find(s).animate({opacity:"show"},$this.opts.tab_anispeed),e.trigger("_after")):(_tab_container.find(s).show(),e.trigger("_after")),!1}),init=eval("elements."+$this.opts.tab_mouseevent+"(fn)"),t,forward=function(){i=++i%elements.length,"hover"==$this.opts.tab_mouseevent?elements.eq(i).trigger("mouseover"):elements.eq(i).click(),$this.opts.tab_autorotate&&(clearTimeout(t),t=setTimeout(forward,$this.opts.delay),$this.mouseover(function(){$this.opts.tab_pauseonhover&&clearTimeout(t)}))};function deep_link(){var t=[];elements.find("a").each(function(){t.push($(this).attr($this.opts.tab_attribute))});var a=$.inArray(location.hash,t);return a>-1?a+1:$this.data("active")||options.tab_active}$this.opts.tab_autorotate&&(t=setTimeout(forward,$this.opts.tab_delay),$this.hover(function(){$this.opts.tab_pauseonhover&&clearTimeout(t)},function(){t=setTimeout(forward,$this.opts.tab_delay)}),$this.opts.tab_pauseonhover&&$this.on("mouseleave",function(){clearTimeout(t),t=setTimeout(forward,$this.opts.delay)}));var move=function(t){"forward"==t&&(i=++i%elements.length),"backward"==t&&(i=--i%elements.length),elements.eq(i).click()};$this.find(options.tab_controls.tab_next).click(function(){move("forward")}),$this.find(options.tab_controls.tab_prev).click(function(){move("backward")}),$this.on("show",function(t,a){fn(t,a)}),$this.on("next",function(){move("forward")}),$this.on("prev",function(){move("backward")}),$this.on("destroy",function(){$(this).removeData().find("> ul li").each(function(t){$(this).removeClass(options.tab_activeclass)}),_app_tabs.each(function(t){$(this).removeAttr("style").css("display",_cache_div[t])})})}})},$(document).ready(function(){$('[data-toggle="app-tabs"]').app_tabs()})})(jQuery);