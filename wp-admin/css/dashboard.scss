@import '../../app-assets/css/includes/modules/_typography';
@import '../../app-assets/css/includes/modules/_colors';

/**
 * Dashboard widgets
 */
#dashboard-widgets-wrap {
	overflow: hidden;
	margin-top: 2rem;

	.columns-3 #postbox-container-4 .empty-container {
		border: none !important;
	}
}

#dashboard-widgets {
	display: grid;
	grid-template-columns: repeat(4, 1fr);
	grid-gap: 0.35em 0.35em;
	width: 100%;
	height: 100%;

	@media screen and ( max-width: 1280px ) {
		grid-template-columns: repeat( 3, 1fr );
	}

	@media screen and ( max-width: 960px ) {
		grid-template-columns: repeat( 2, 1fr );
	}

	@media screen and ( max-width: 640px ) {
		grid-template-columns: repeat( 1, 1fr );
	}

	&.columns-3 {
		grid-template-columns: repeat( 3, 1fr );

		@media screen and ( max-width: 960px ) {
			grid-template-columns: repeat( 2, 1fr );
		}

		@media screen and ( max-width: 640px ) {
			grid-template-columns: repeat( 1, 1fr );
		}
	}

	&.columns-2 {
		grid-template-columns: repeat( 2, 1fr );

		@media screen and ( max-width: 640px ) {
			grid-template-columns: repeat( 1, 1fr );
		}
	}

	&.columns-1 {
		grid-template-columns: repeat( 1, 1fr );
	}

	.postbox-container {

		.postbox {
			position: relative;
			padding-bottom: 1em;
			border: solid 1px $box_border_color;

			&.closed {
				padding-bottom: 0;
				border-bottom: 0;
			}

			.inside {
				margin-bottom: 0;

				ul {
					margin-top: 1em;
				}
			}

			form {
				.submit {
					float: none;
					margin: .5em 0 0;
					padding: 0;
					border: none;
				}
			}
		}
	}

	.meta-box-sortables {
		min-height: 100px;
	}
}

/* @todo: this was originally in this section, but likely belongs elsewhere */
#the-comment-list td.comment p.comment-author {
	margin-top: 0;
	margin-left: 0;
}

#the-comment-list p.comment-author img {
	float: left;
	margin-right: 8px;
}

#the-comment-list p.comment-author strong a {
	border: none;
}

#the-comment-list td {
	vertical-align: top;
}

#the-comment-list td.comment {
	word-wrap: break-word;
}

#the-comment-list td.comment img {
	max-width: 100%;
}

/* Top Panel */
.top-panel {
	position: relative;
	min-height: 60px;
	overflow: auto;
	margin: 1em 0;
	font-size: $px14;
	line-height: 1.325;
}

.top-panel h2 {
	margin: 0;
	font-size: 21px;
	line-height: 1.2;
}

.top-panel h3 {
	margin: 1.33em 0 0;

	& ~ div {
		margin-top: 1em;
	}
}

.top-panel li {
	font-size: 14px;
}

.top-panel a {
	text-decoration: none;
}

.top-panel .welcome-description,
.top-panel .intro-description,
.top-panel .intro-description {
	font-size: 16px;
	margin: 0;
}

.top-panel .top-panel-close {
	position: absolute;
	z-index: 10;
	top: 0.5em;
	right: 0.5em;
	padding: 1em;
	font-size: 13px;
	line-height: 1.23076923; /* Chrome rounding, needs to be 16px equivalent */
	text-decoration: none;
}

.top-panel .top-panel-close:before {
	content: "\f153";
	display: inline-block;
	margin-right: 0.3em;
	vertical-align: middle;
	background: none;
	color: $light_gray;
	font-family: dashicons;
	font-size: 1.2em;
	speak: none;
	speak: never;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	transition: all .1s ease-in-out;
}

.app-core-ui .top-panel .button.button-hero {
	margin: 15px 13px 3px 0;
	padding: 12px 36px;
	height: auto;
	font-size: 1.0625rem;
	line-height: 1.4285714;
	white-space: normal;
}

.top-panel-content,
.top-panel-content {
	max-width: 1500px;
}

.top-panel .top-panel-column-container {
	display: flex;
	position: relative;

	.top-panel-column {
		min-width: 160px;
		max-width: 480px;

		@media screen and (max-width: 782px) {
			max-width: 100%;
		}

		&:first-of-type {
			min-width: 320px;
		}

		&:not( :last-of-type ) {
			margin-right: 2rem;
		}
	}

	@media screen and (max-width: 782px) {
		flex-direction: column;

		.top-panel-column {
			min-width: 100%;
		}
	}

}

#tab-panel-draftposts {

	.app-tab-content-inner {
		display: flex;
		position: relative;

		@media screen and (max-width: 782px) {
			flex-direction: column;
		}
	}

	.app-tab-content-section {
		min-width: 160px;
		max-width: 480px;

		@media screen and (max-width: 782px) {
			max-width: 100%;
		}

		&:first-of-type {
			min-width: 320px;
		}

		&:not( :last-of-type ) {
			margin-right: 2rem;
		}
	}
}

.top-panel-column p.hide-if-no-customize {
	margin-top: 10px;
}

.top-panel .top-panel-column ul {
	margin: 1em 1em 1em 0;
	padding: 0;
	list-style: none;
}

.top-panel .top-panel-column li {
	padding: 0.25em 0;
	font-weight: bold;
	font-weight: 600;

	@supports( font-variation-settings: normal ) {
		font-weight: 525;
	}
}

.top-panel .welcome-icon {
	background: transparent !important;
}

.app-tabs {

	.app-tab-content {

		header {
			margin-bottom: 1em;
			padding-bottom: 1em;
			border-bottom: solid 1px $box_border_color;
		}

		.dashboard-overview-item {
			margin: 0;
			padding: 0.25em 0;

			&:first-of-type {
				margin-top: 1em;
			}
		}
	}
}

.dashboard-panel-section-intro {
	display: flex;
	padding-right: 2rem;

	@media screen and ( max-width: 799px ) {
		display: block;
	}

	h4 {
		margin: 0;
		font-size: 1.25em;
	}

	figure {
		min-width: 64px;
		margin: 0 1em 0 0;

		@media screen and ( max-width: 799px ) {
			float: left;
		}
	}

	div {
		margin-bottom: 2rem;
	}
}

/* Welcome Panel and Right Now common Icons style */

#dashboard_right_now li a:before,
#dashboard_right_now li span:before {
	color: #82878c;
	font: normal 20px/1 dashicons;
	speak: none;
	display: inline-block;
	padding: 0 10px 0 0;
	position: relative;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	text-decoration: none !important;
	vertical-align: top;
}

/* Right Now specific Icons styles */

#dashboard_right_now li a:before,
#dashboard_right_now li > span:before { /* get only the first level span to exclude screen-reader-text in mu-storage */
	content: "\f159"; /* generic icon for items added by CPTs ? */
	padding: 0 5px 0 0;
}

#dashboard_right_now .page-count a:before,
#dashboard_right_now .page-count span:before {
	content: "\f105";
}

#dashboard_right_now .post-count a:before,
#dashboard_right_now .post-count span:before {
	content: "\f109";
}

#dashboard_right_now .comment-count a:before {
	content: "\f101";
}

#dashboard_right_now .comment-mod-count a:before {
	content: "\f125";
}

#dashboard_right_now .storage-count a:before {
	content: "\f104";
}

#dashboard_right_now .storage-count.warning a:before {
	content: "\f153";
}

/* Dashboard right now */

#dashboard_right_now ul {
	margin: 0;
	/* contain floats but don't use overflow: hidden */
	display: inline-block;
	width: 100%;
}

#dashboard_right_now li {
	width: 50%;
	float: left;
	margin-bottom: 10px;
}

#dashboard_right_now .inside {
	padding: 0;
}

#dashboard_right_now .main {
	padding: 0 12px 11px;

	h3 {
		font-weight: 700;

		&:not(:first-of-type) {
			padding-top: 0.75em;
			border-top: solid 1px $box_border_color;
		}
	}

	p {
		margin: 0.25em 0 0;

		&:first-of-type {
			margin-top: 1em;
		}
	}
}

#dashboard_right_now #wp-version-message .button {
	float: right;
	position: relative;
	top: -5px;
	margin-left: 5px;
}

.mu-storage {
	overflow: hidden;
}

/* Dashboard right now - Colors */

#dashboard_right_now .sub {
	color: #555d66;
	background: #f5f5f5;
	border-top: 1px solid #eee;
	padding: 10px 12px 6px 12px;
}

#dashboard_right_now .sub h3 {
	color: #555;
}

#dashboard_right_now .sub p {
	margin: 0 0 1em;
}

#dashboard_right_now .warning a:before,
#dashboard_right_now .warning span:before {
	color: #d54e21;
}

/* Dashboard Quick Draft */

#dashboard_quick_press .inside {
	margin: 0;
	padding: 1em;
}

#dashboard_quick_press div.updated {
	margin-bottom: 10px;
	border: 1px solid #eee;
	border-width: 1px 1px 1px 0;
}

#dashboard_quick_press form {
	margin-top: 1em;
}

#dashboard_quick_press p.description {
	margin: 0;
}

#dashboard_quick_press .drafts,
#dashboard_quick_press .easy-blogging {
	margin-top: 1em;
	padding: 10px 0 0;
}

/* Dashboard Quick Draft - Form styling */

#quick-press {

	input[type="text"],
	textarea {
		width: 100%;
		max-width: 640px;
	}

	.dashboard-quick-draft-error {
		margin: 1em 0;
	}
}

input#save-post {
	float: left;
}

form.initial-form.quickpress-open label.prompt {
	font-style: normal;
}

form.initial-form.quickpress-open input#title {
	height: auto;
}

#dashboard_quick_press input,
#dashboard_quick_press textarea {
	box-sizing: border-box;
	margin: 0;
}

#dashboard_quick_press textarea {
	resize: vertical;
}

#description-wrap {
	margin-top: 12px;
}

#title-wrap #title-prompt-text,
.textarea-wrap #content-prompt-text {
	color: $light_gray;
}

#title-wrap #title-prompt-text {
	font-size: 1.1em;
	padding: 7px 8px;
}

.input-text-wrap,
.textarea-wrap {
	position: relative;
}

.input-text-wrap .prompt,
.textarea-wrap .prompt {
	position: absolute;
}

.textarea-wrap #content-prompt-text {
	font-size: 1.1em;
	padding: 7px 8px;
}

#quick-press textarea#content {
	height: 120px;
	min-height: 120px;
	max-height: 1300px;
	resize: none;
}

.no-js #quick-press textarea#content {
	height: auto;
}

/* Dashboard Quick Draft - Drafts list */

.js #dashboard_quick_press .drafts {
	border-top: 1px solid #eee;
}

#dashboard_quick_press .drafts abbr {
	border: none;
}

#dashboard_quick_press .drafts .view-all {
	float: right;
	margin: 0 12px 0 0;
}

#dashboard_primary a.rsswidget {
	font-weight: 400;
}

#dashboard_quick_press .drafts ul {
	margin: 1em 0 0;
}

.app-tab-column__recent-drafts .drafts li {
	margin-bottom: 1em;
}

.app-tab-column__recent-drafts .drafts p {
	margin: 0;
	word-wrap: break-word;
}

#dashboard_quick_press .drafts a {
	font-weight: 700;

	@supports( font-variation-settings: normal ) {
		font-weight: 600;
	}
}

#dashboard_quick_press .draft-title {
	word-wrap: break-word;
}

#dashboard_quick_press .draft-title a,
#dashboard_quick_press .draft-title time {
	margin: 0 5px 0 0;
}

#dashboard_quick_press .drafts h2 {
	line-height: inherit;
}

/* Dashboard activity widget */

#dashboard_activity .comment-meta span.approve:before {
	content: "\f227";
	font: 20px/.5 dashicons;
	margin-left: 5px;
	vertical-align: middle;
	position: relative;
	top: -1px;
	margin-right: 2px;
}

#dashboard_activity .inside {
	margin: 0;
	padding-bottom: 0;
}

#dashboard_activity .no-activity {
	overflow: hidden;
	padding: 0 0 12px;
	text-align: center;
}

#dashboard_activity .no-activity p {
	color: #72777c;
	font-size: 16px;
}

#dashboard_activity .no-activity .smiley {
	margin-top: 0;
}

#dashboard_activity .no-activity .smiley:before {
	content: "\f328";
	font: normal 120px/1 dashicons;
	speak: none;
	display: block;
	margin: 0 5px 0 0;
	padding: 0;
	text-indent: 0;
	text-align: center;
	position: relative;
	-webkit-font-smoothing: antialiased;
	text-decoration: none !important;
}

#dashboard_activity .subsubsub {
	float: none;
	border-top: 1px solid #eee;
	margin: 0 -12px;
	padding: 8px 12px 4px;
}

#dashboard_activity .subsubsub a .count,
#dashboard_activity .subsubsub a.current .count {
	color: #72777c; /* white background on the dashboard but #f1f1f1 on list tables */
}

#future-posts ul,
#published-posts ul {
	clear: both;
	margin-bottom: 0;

	span {
		display: inline-block;
		margin-right: 5px;
	}
}

#future-posts a,
#published-posts a {
	font-weight: 700;

	@supports( font-variation-settings: normal ) {
		font-weight: 600;
	}
}

.activity-block {
	border-bottom: 1px solid $box_border_color;
}

.activity-block:last-child {
	border-bottom: none;
}

.activity-block .subsubsub li {
	color: $light_gray;
}

/* Dashboard activity widget - Comments */
/* @todo: needs serious de-duplication */

#activity-widget #the-comment-list tr.undo,
#activity-widget #the-comment-list div.undo {
	background: none;
	padding: 6px 0;
	margin-left: 12px;
}

#activity-widget #the-comment-list .comment-item {
	padding: 12px;
	position: relative;
}

#activity-widget #the-comment-list .avatar {
	position: absolute;
	top: 12px;
}

#activity-widget #the-comment-list .dashboard-comment-wrap {
	padding-left: 63px;
}

#activity-widget #the-comment-list .dashboard-comment-wrap blockquote {
	margin: 1em 0;
}

#activity-widget #the-comment-list .comment-item p.row-actions {
	margin: 4px 0 0 0;
}

#activity-widget #the-comment-list .comment-item:first-child {
	border-top: 1px solid #eeeeee;
}

#activity-widget #the-comment-list .unapproved {
	background-color: #fef7f1;
}

#activity-widget #the-comment-list .unapproved:before {
	content: "";
	display: block;
	position: absolute;
	left: 0;
	top: 0;
	bottom: 0;
	background: #d54e21;
	width: 4px;
}

#activity-widget #the-comment-list .spam-undo-inside .avatar,
#activity-widget #the-comment-list .trash-undo-inside .avatar {
	position: relative;
	top: 0;
}

/* Browse happy box */

#dashboard-widgets #dashboard_browser_nag.postbox .inside {
	margin: 10px;
}

.postbox .button-link .edit-box {
	display: none;
}

.edit-box {
	opacity: 0;
}

.hndle:hover .edit-box,
.edit-box:focus {
	opacity: 1;
}

#dashboard-widgets form .input-text-wrap input {
	width: 100%;
}

#dashboard-widgets form .textarea-wrap textarea {
	width: 100%;
}

#dashboard-widgets-wrap #dashboard-widgets .postbox form .submit #publish {
	min-width: 0;
}

#dashboard-widgets a,
#dashboard-widgets .button-link {
	text-decoration: none;
}

#dashboard-widgets h2 a {
	text-decoration: underline;
}

#dashboard-widgets .hndle .postbox-title-action {
	float: right;
	line-height: 1.2;
}

#dashboard_plugins h5 {
	font-size: 14px;
}

/* Recent Comments */

#latest-comments {

	#the-comment-list {
		position: relative;
		margin: 0 -12px;
	}

	.subsubsub {
		font-size: $px13;
	}
}

#activity-widget #the-comment-list .comment,
#activity-widget #the-comment-list .pingback {
	box-shadow: inset 0 1px 0 rgba(0, 0, 0, 0.06);
}

#activity-widget .comments #the-comment-list .alt {
	background-color: transparent;
}

#activity-widget #latest-comments #the-comment-list .comment-item {
	/* the row-actions paragraph is output only for users with 'edit_comment' capabilities,
	   for other users this needs a min height equal to the gravatar image */
	min-height: 50px;
	margin: 0;
	padding: 12px;
}

#latest-comments #the-comment-list .pingback {
	padding-left: 12px !important;
}

#latest-comments #the-comment-list .comment-item:first-child {
	border-top: none;
}

#latest-comments #the-comment-list .comment-meta {
	line-height: 1.5em;
	margin: 0;
	color: #666;
}

#latest-comments #the-comment-list .comment-meta cite {
	font-style: normal;
	font-weight: 400;
}

#latest-comments #the-comment-list .comment-item blockquote,
#latest-comments #the-comment-list .comment-item blockquote p {
	margin: 0;
	padding: 0;
	display: inline;
}

#latest-comments #the-comment-list .comment-item p.row-actions {
	margin: 3px 0 0;
	padding: 0;
	font-size: 13px;
}

/* QuickDraft */

#title-wrap label,
#description-wrap label {
	cursor: text;
}

#title-wrap #title {
	padding: 2px 6px;
	font-size: 1.3em;
	outline: none;
}

#title-wrap #title-prompt-text {
	font-size: 1.1em;
	padding: 5px 8px;
}

/* Feeds */
.rss-widget ul {
	margin: 0;
	padding: 0;
	list-style: none;
}

a.rsswidget {
	font-size: 13px;
	font-weight: 600;
	line-height: 1.4em;
}

.rss-widget ul li {
	line-height: 1.5em;
	margin-bottom: 12px;
}

.rss-widget span.rss-date {
	color: #72777c;
	font-size: 13px;
	margin-left: 3px;
}

.rss-widget cite {
	display: block;
	text-align: right;
	margin: 0 0 1em;
	padding: 0;
}

.rss-widget cite:before {
	content: "\2014";
}

.dashboard-comment-wrap {
	word-wrap: break-word;
}

/* Browser Nag */
#dashboard_browser_nag a.update-browser-link {
	font-size: 1.2em;
	font-weight: 600;
}

#dashboard_browser_nag a {
	text-decoration: underline;
}

#dashboard_browser_nag p.browser-update-nag.has-browser-icon {
	padding-right: 125px;
}

#dashboard_browser_nag .browser-icon {
	margin-top: -35px;
}

#dashboard_browser_nag.postbox.browser-insecure {
	background-color: #ac1b1b;
	border-color: #ac1b1b;
}

#dashboard_browser_nag.postbox {
	background-color: #e29808;
	background-image: none;
	border-color: #edc048;
	color: #fff;
	box-shadow: none;
}

#dashboard_browser_nag.postbox.browser-insecure h2 {
	border-bottom-color: #cd5a5a;
	color: #fff;
}

#dashboard_browser_nag.postbox h2 {
	border-bottom-color: #f6e2ac;
	background: transparent none;
	color: #fff;
	box-shadow: none;
}

#dashboard_browser_nag a {
	color: #fff;
}

#dashboard_browser_nag h2.hndle {
	border: none;
	font-weight: 600;
	font-size: 20px;
	padding-top: 10px;
}

.postbox#dashboard_browser_nag p a.dismiss {
	font-size: 14px;
}

.postbox#dashboard_browser_nag p,
.postbox#dashboard_browser_nag a,
.postbox#dashboard_browser_nag p.browser-update-nag {
	font-size: 16px;
}

/* =Media Queries
-------------------------------------------------------------- */

@media screen and (max-width: 870px) {
	.top-panel .top-panel-column,
	.top-panel .top-panel-column:first-child {
		display: block;
		float: none;
		width: 100%;
	}

	.top-panel .top-panel-column li {
		display: inline-block;
		margin-right: 13px;
	}

	.top-panel .top-panel-column ul {
		margin: 0.4em 0 0;
	}
}

@media screen and ( max-width: 782px ) {
	#dashboard_recent_comments #the-comment-list .comment-item .avatar {
		height: 30px;
		width: 30px;
		margin: 4px 10px 5px 0;
	}

	.community-events-toggle-location {
		height: 38px;
		vertical-align: baseline;
	}

	.community-events-form .regular-text {
		height: 32px;
	}

	#community-events-submit {
		margin-bottom: 0;
		/* Override .app-core-ui .button */
		vertical-align: top;
	}

	.community-events-form label,
	#dashboard-widgets .community-events-cancel.button-link {
		/* Same properties as the submit button for cross-browsers alignment. */
		font-size: 14px;
		line-height: normal;
		height: auto;
		padding: 6px 0;
		border: 1px solid transparent;
	}

	.community-events .spinner {
		margin-top: 7px;
	}
}

/* Smartphone */
@media screen and (max-width: 600px) {

	/* Keep the close icon from overlapping the Welcome text. */
	.top-panel .top-panel-close {
		overflow: hidden;
		text-indent: 40px;
		white-space: nowrap;
		width: 20px;
		height: 20px;
		padding: 5px;
		top: 5px;
		right: 5px;
	}

	/* Make the close icon larger for tappability. */
	.top-panel .top-panel-close:before {
		font-size: 20px;
		top: 5px;
		left: -35px;
	}
}

@media screen and (min-width: 355px) {

	.community-events .event-info {
		display: table-row;
		float: left;
		max-width: 59%;
	}

	.event-icon,
	.event-icon[aria-hidden="true"] {
		display: table-cell;
	}

	.event-info-inner {
		display: table-cell;
	}

	.community-events .event-date-time {
		float: right;
		max-width: 39%;
	}

	.community-events .event-date,
	.community-events .event-time {
		text-align: right;
	}
}